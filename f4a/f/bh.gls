 --> ******************** BH * GLOSSAR ******************** <--                           (vorl€ufig)                                                                                                            journal buchf‡hrung kontierung                                  umsatzsteuer  betriebsergebnis                                                                                  Ein F6-Programm zum QL (und Derivaten) mit TK2 und Pointer-IF  Erprobt mit GC und JM, JS, MGG, MINERVA(1.93), Atari-QL, QXL2.31                                                                                                                                                       1993 Jul 12 23:39                                               1994 Dec 18 22:39                                                                                                      €nderungen & erg€nzungen s.S. 67 ff                  copyright 1994 bei h.-peter recktenwald, berlin-friedenau       albestr. 21, 12159 bln            tel: 0{1049}30 852 0413    0. BEGRIFFE                                      ( 0/1/1    1                                                                   SCREENFILE   eine Textdatei OHNE Steuerzeichen. Es sind alle                 Zeichen mit Code von 32 bis 255 erlaubt. Die Datei              darf bis zu 1048512 Bytes ( knapp 1M ) lang sein.                                                                  NAMEN        wie auch beim QL-Basic im F6-System existierende                Namen von Aufrufen. Wobei in diesem Programm auch               Variable, Constanten oder frei definierte Struktu-              ren solche Aufrufe sind. Diese Namen k„nnen aus den             Zeichen mit Code 33 "!" bis 160 " " zusammengesetzt             werden. Steuerzeichen 0 bis 31 und das Leerzeichen              sind nicht brauchbar: Leerzeichen grenzen Eingabe-              einheiten ein, also auch Namen; mit der ASCII-Null              markiert der Interpreter zugleich das Zeilenende.               Groœ- und Kleinschreibung sind gleichberechtigt.   1. MENU - Allgemein                              ( 1/1/6    2                                                                   Die Eingabe BUCHHALTUNG, rsp. das automatisch startende Programmfordert die n„tigen File- und Ger€tenamen an und f‡hrt ins Menu.                                                                [ESC] veranlaœt dort den erneuten Start des Programms.          [SH/SPC] aktiviert, wo installiert, den Pointer des Pointer-IF. Die hier verf‡gbaren Menupunkte, ausw€hlbar durch die Cursortas-ten [¼/½/¾/¿] und aktivierbar durch [enter] oder [space], sind:                                                                      Buchen         Journalliste      Summen-/Saldenliste            USt            Kontenbl€tter     Auswertung/Abschluœ            Kontenplan     Rechnen           Monat/Jahr                     Editor         Sicherungscopie   Neue Seite                     Neue Zeile     Text schreiben    Eingabe                        Fenster        Schluœ            Drucker½ein               1. MENU - Allgemein - Files                      ( 1/2/6    3                                                                   Die Meldungen im Programm werden einem besonderen Textfile      entnommen, das daf‡r zum Programmstart vorhanden sein muœ.      Dasselbe gilt f‡r die Kontendefinition aus z.B. "kt_scr", die   jedoch sp€ter mit dem ganzen Programm gesichert werden k„nnen.                                                                          msg FNAME" flp1_msg_scr"        Meldungstexte, Edit-Help        msd FNAME" flp1_msg_dat"        Texte als Bin€rfile             ktn FNAME" flp1_kt_scr"         Konten (Beispiele)              drk FNAME" ser1"                Druckerausgabe                  jur FNAME" flp2_cc00_jur"       Journalliste (Beispiel)         jbk FNAME" flp2_cc00_jbk"       dto., Sicherungsdatei           sfi FNAME" flp2_cc00_sfi"       ggf. sortierte J.-Liste         dat FNAME" flp2_cc00_mem"       ggf. Hilfsspeicher      Diese EINSTELLUNGEN k„nnen beim Programmstart EDITIERT werden.  1. MENU - Allgemein - Files                      ( 1/3/6    4                                                                    msd: flp1_msg_dat      - Name nur in der EINGABE €nderbar       msg: flp1_msg_scr                                                      enth€lt die Hinweistexte, die bei den einzelnen Positio-        nen im Programm ausgegeben werden. Sie werden beim Start        in den Speicher compiliert. Das File ist danach nicht           mehr erforderlich, muœ aber auf jeden Fall aufbewahrt           werden, da diese Procedur f‡r jeden Job erneut aufgeru-         fen wird. Falls "msg_dat" vorhanden ist, werden daraus          die Texte ungepr‡ft direkt in den Speicher ‡bernommen.          Durch L„schen des Namen wird das Programm aufgegeben.           Die Texte k„nnen in beschr€nktem Rahmen eigenen Vorstel-        lungen angepaœt werden: Ihre L€nge sollte unver€ndert           bleiben, da sonst die Ein-/Ausgabeformatierung verloren-        gehen kann. Bei den Menutexten besteht v„llige Freiheit.1. MENU - Allgemein - Files                      ( 1/4/6    5                                                                    ktn: flp1_kt_scr                                                       hieraus werden die Konten ggf. neu eingerichtet. Daf‡r          m‡ssen dem System einige Daten ‡bergeben werden, die auf        den Seiten 1 und 2 festgelegt sind. Es empfiehlt sich,          f‡r den Aufbau eines eigenen Kontenplans der Einfachheit        halber die Seiten 0 bis 2 unver€ndert zu ‡bernehmen.            Durch L„schen des Namen wird das Programm aufgegeben.           Eine kleine Sicherungsmaœnahme ist verbunden mit dem Kto                0000 konto Copyright.hpr'93                             Dieses Konto muœ angegeben sein, seine Existenz wird im         Programm abgefragt. Fehlt es, bricht das Programm ab.                                                                           Eine Fehlermeldung "definition not finished" beim Atari-        QL ist belanglos, <enter> setzt das Programm fort.      1. MENU - Allgemein - Files                      ( 1/5/6    6                                                                    drk: ser1                                                              Druckerausgabe. Es gilt jeder Name, zu dem etwa auch aus        dem Basic mit OPEN oder OPEN_NEW ein Kanal ge„ffnet wer-        den k„nnte. Vorhandene Files werden um den neuen Text           erg€nzt. Soll generell nicht gedruckt werden, tr€gt man         hier (durch L„schen der Vorgabe) einen Leerstring ein.                                                                   dat: flp1_cc00_mem                                                     wird automatisch und nur dann eingerichtet, wenn der            freie Speicher nicht gen‡gend Platz zur Saldenermittlung        bietet. Daf‡r wird dann eine 240000 Bytes lange Arbeits-        datei erzeugt, die nach Verlassen der Buchhaltung wieder        gel„scht werden kann. Sie enth€lt im Abstand von 8 Bytes        Soll- u. Habensummen jedes der 30000 m„glichen Konten.  1. MENU - Allgemein - Files                      ( 1/6/6    7                                                                    jur: flp1_cc00_jur                                                     ist die aktuelle Journalliste, der beim BUCHEN die neuen        Zeilen hinzugef‡gt werden.                                      Durch L„schen des Namen wird das Programm aufgegeben.           Eine neue Liste entsteht durch zweimaligen Start mit dem        bis dahin unbekannten neuen Namen.                                                                                       jbk: flp1_cc00_jbk                                                     in die zugeh„rige Sicherungsdatei wird automatisch nach         jeder zwanzigsten Buchung die gesamte Journalliste ‡ber-        tragen. Die Sicherungsdatei muœ (nur) beim Buchen stets         zug€nglich sein. Das Sichern unterbleibt, wenn der Name         ganz gel„scht wurde. Dann kann das Programm auch v„llig         unabh€ngig von dieser Datei betrieben werden.           2. BUCHEN - Journalliste                         ( 2/1/14   8                                                                   Die Journalliste ist eine Textdatei OHNE Steuerzeichen. Sie kannje nach Kapazit€t des Datentr€gers max. 2M Bytes lang sein - in dieser Version "nur" 1M. Jede Buchungszeile beansprucht darin 64Zeichen Platz, somit sind maximal 32767 (16383) Zeilen m„glich.                                                                 Die Liste enth€lt die Gesch€ftsvorf€lle in chronologischer FolgeSie kann nach folgenden Schema auch anderweitig angelegt werden:                                                                ttmmjj xxxxxxxxxxxxxxxxxxxxxxxxxxxxx nnnnnnn,nn- S u nnnnn nnnnndatum | buchungstext max 29 zeichen | betrag    |H|v| kto | gkt                                                                 121212 12345678901234567890123456789 12345678901 1 1 12345 1234501234567890123456789012345678901234567890123456789012345678901230         1         2         3         4         5         6   2. BUCHEN - Journalliste, Datenstuktur           ( 2/2/14   9                                                                   Spalte  Inhalt          Verwendung                                                                                                0     Datum           6 Ziffern ohne Zwischenraum,                                    je 2 Stellen f‡r Tag, Monat, Jahr                                                                               ein Leerzeichen                                           7     Text            bis zu 29 Zeichen beliebiger Text                                                                               ein Leerzeichen                                          37     Betrag          ab Spalte 37 (ab 0 gez€hlt) der maximal                         11-stellige Betrag einschlieœlich zweier                        Dezimalstellen und Vorzeichen am Schluœ                         Absolut gr„œter Betrag:   2147450,87 DM                                                                 2. BUCHEN - Journalliste, Datenstuktur           ( 2/2/14  10                                                                           ein Leerzeichen                                          49     S/H/+-/ /       Markierung bez‡glich des Konto-Eintrags.                        +- (Minerva char 217) oder Leerzeichen                          steht f‡r rein vorzeichenm€œige Abrech-                         nung, die Marken S (soll) oder H (haben)                        ber‡cksichtigen den der Kontendefinition                        jeweils zugeordneten Aktiv/Passiv-Status                                                                        ein Leerzeichen                                          51     eine Ziffer     zur Codierung der Umsatzsteueranteile.                          Codierung und Kontenzuordnung sind beim                         Einrichten der Buchf‡hrung w€hlbar.                             Codes sind die Ziffern 0 bis 9 und Leer-                        zeichen - s. gesonderte Erl€uterungen.  2. BUCHEN - Journalliste, Datenstuktur           ( 2/3/14  11                                                                           ein Leerzeichen                                          53     Konto           bis zu 5-stellige Kontonummer im Bereich                           00 bis  9999         Sachkonten                              10000     19999         Debitoren                               K0000     K9999   (gleichbedeutend)                             20000     29999         Creditoren                              L0000     L9999   (gleichbedeutend)                             Hierauf beziehen sich Betrags- und S/H-                         Angabe. Ust-Codierung betrifft Gegenkto.                                                                        ein Leerzeichen                                          59     Gegenkonto      wie oben bei Konto. Bei diesem Kto. wird                        ggf. die USt aus dem Betrag extrahiert                          und auf das codierte Steuerkto. gebucht 2. BUCHEN - Die Eintragungen - Allgemein         ( 2/4/14  12                                                                   Zu Beginn erscheinen aktuelle Journalseite, j‡ngste Zeile darin,und dann jeweils ein kurzer Hinweis zur anstehenden Eingabe.                                                                    Wenn die Positionierung im Bild nicht in Ordnung scheint, kann  der 4th-Aufruf LNGBAD helfen, da Lightning hier Fehler erzeugt.                                                                 ALLE EINGABEPOSTEN ‡bernehmen mit einfachem <enter> den Inhalt  der entsprechenden Stelle der Vorg€ngerzeile.                                                                                   Jede Journalzeile, die nicht mit einer Ziffer beginnt, und die  nicht leer ist, wird bei der Auswertung als Kommentar behandelt.Die erste Leerzeile markiert das Ende der Liste. Darauf folgendeZeilen werden also ber‡cksichtigt, sobald der Zwischenraum durchKommentarmarkierungen oder g‡ltige Eintragungen geschlossen ist.2. BUCHEN - Die Eintragungen - Allgemein         ( 2/5/14  13                                                                   Nach jeder zwanzigsten Buchung wird der aktuelle Datensatz auto-matisch auf die Sicherungsdatei copiert, deren Name zu Beginn   beim Programmstart daf‡r eingegeben wurde.                                                                                      Das Intervall l€œt sich z.B. auf 50 Buchungen €ndern:                  #50 DUP IS bks   <enter>                                 oder ganz abschalten mit:                                               0.     IS bks   <enter>                                                                                                         J-BACKUP        <enter>                                 ruft den Copiervorgang unmittelbar auf.                                                                                         Diese Eingaben sind bei der Betragsanforderung zus€tzlich zur   Betragsangabe m„glich, besser aber aus der EINGABE.             2. BUCHEN - Die Eintragungen - Allgemein         ( 2/6/14  14                                                                   Wenn beim Programmstart ein entsprechendes Ger€t angegeben wurdegehen beim BUCHEN abgeschlossene Buchungszeilen auch zum DruckerDas kann w€hrend der Betragseingabe unterbunden werden:                 #1 IS syn                                               wobei das # unbedingt erforderlich ist, da hier normalerweise   Flieœkommazahlen erzeugt werden, die zur Systemsteuereung nicht geeignet sind. Mit f‡hrendem "#" ensteht das geeignete Format.                                                                  Nach dem Buchen werden automatisch die Salden bis zur letzten   Zeile ermittelt. Das geschieht auœerdem bei groben Fehlern, beimEintritt in das Hauptmenu, nach Verlassen des Editors und in der        AUSWERTUNG      beim Aufruf, sowie bei                          MONAT/JAHR      f‡r den (neuen) Auswertungszeitraum.                                                                    2. BUCHEN - Die Eintragungen - DATUM             ( 2/7/14  15                                                                   DATUM                                                           Diese erste Eingabeanforderung erlaubt als Sonderaktionen:          ESC      R‡ckkehr in das Hauptmenu.                             ALT/ESC  Aufruf des Text-Editors.                               SH/SPACE kann den Pointer des Pointer-I.F. aktivieren.          F4       Auffrischen des Bildes.                                Z        nach Eingabe der Nummer §bernahme einer Vorg€nger-              zeile als neue Vorgabe f‡r die aktuelle Zeile.                                                                     Das Buchen beginnt mit der Datumseingabe durch die Cursortasten wie in der Hilfszeile angegeben.                                Bei einem neuen Datensatz erscheint zun€chst eine willk‡rliche  Jahreszahl. Nach Eingabe der ersten Zeile wird das dort angegebene Jahr f‡r den gesamten Datensatz und die Auswertung maœgeblich2. BUCHEN - Die Eintragungen - TEXT              ( 2/8/14  16                                                                   TEXT                                                            Buchungstext und Korrekturm„glichkeit f‡r die Vorg€ngerzeile.   Angenommen werden alle von der Tastur aus zug€nglichen Schrift- zeichen des Minerva-Zeichensatzes vom QL in einer L€nge von max.29 Zeichen. Editierbare Vorgabe ist der Text der Vorg€ngerzeile.                                                                Nach Eingabe eines einzelnen 'K' an erster Position geht es     unmittelbar zur erneuten Eingabe der VORG NGERzeile zur‡ck.                                                                     Aufgrund der M„glichkeit, auch Text(teil)e in die Auswertung    einzubeziehen, bietet es sich an, dort zus€tzliche Markierungen unterzubringen. Das erlaubt u.a. die Kosten-/Umsatztr€gerermitt-lung und z.B. auch die Gewinnung der Daten zur Deckungsbeitrags-rechnung. Mehr dazu bei der Beschreibung der "KONTENBL TTER".   2. BUCHEN - Die Eintragungen - BETRAG            ( 2/9/14  17                                                                   BETRAG                                                          Buchungsbetrag und Programmierung.                              Hier kann neben dem Buchungsbetrag jedes sonst im System g‡ltigeWort aufgerufen werden. Das Vocabular zum Rechnen mit Flieœkommazahlen ist aktiviert. Darin sind alle Flieœkomma-Operationen desF6-Systems zug€nglich (s. F6-Glossar "f6_gls").                 Ferner gilt eine Zahl mit angef‡gtem % als Prozentsatz.                                                                         Dies ist ein UPN-RECHNER: Es werden also erst die Zahlen, dann  das zugeh„rige Rechenzeichen erwartet. Klammerausdr‡cke sind darum unn„tig. Sie werden ganz einfach in derselben Reihenfolge wiebeim Kopfrechnen zur Kettenrechnung aufgel„st. Teilergebnisse   h€lt der Rechner solange bereit, bis sie von der folgende Opera-tion verbraucht werden, oder bis zum Verlassen von "BETRAG".    2. BUCHEN - Die Eintragungen - BETRAG            ( 2/10/14 18                                                                   Ein kleines Beispiel zur UPN und zur Prozentrechnung f‡r den im Bruttobetrag von 722 DM enthaltenen 14%igen U-Steueranteil:             350 2 * 22 +    ( z.B. Zwischenergebnis 722 DM brutto           100% 14% + /    ( entspricht 114% von netto, daraus 1%          14% *           ( mal Steuersatz f‡r die Umsatzsteuer   oder kurz                                                               722 14% 114% */                                                 .               ( gibt das Ergebnis im Bildschirm aus                                                                   Zus€tzlich lassen sich h€ufig vorkommende Betr€ge namentlich    identifizieren. Die Eingabe                                             123,45 BLEIBT M‡llabfuhr                                ("," wie "." markieren den Dezimalbruchanteil in einer fp-Zahl) ‡bergibt den Betrag 123,45 in die aktuelle Buchung und erzeugt  2. BUCHEN - Die Eintragungen - BETRAG            ( 2/11/14 19                                                                   zugleich mit diesem Wert eine Flieœkomma-Constante des angegebe-nen Namen, hier also {M‡llabfuhr}. Mit derselben Anweisung kann ein schon bekannter Name auch mit einem neuen Wert besetzt wer- den. Sp€ter gen‡gt die Eingabe des Namen statt des Betrages.    {BLEIBT} kann solche Constanten im Rahmen der Speicherkapazit€t innerhalb des F6 in beliebiger Zahl einrichten. Deren Namen d‡r-fen bis zu 31 Zeichen lang sein. Ihr Speicherbedarf ist die L€n-ge des Namen plus 12 Bytes, geradzahlig abgerundet.                                                                               #zahl KONTO {name}    richtet ein neues Konto ein.              MEM #.                gibt den freien Speicher in Bytes an.     FORGET {name}         l„scht alle Worte ab dem Namen,           EMPTY                 l„scht s€mtliche neu definierten Worte. Weitere Hinweise hierzu bei RECHNEN und bei der EINGABE.        2. BUCHEN - Die Eintragungen - SOLL/HABEN        ( 2/12/14 20                                                                   SOLL/HABEN, CASHFLOW                                            Eingabe "S"/"H"/" " durch einfachen Tastendruck.                Soll/Haben ist vorbereitet, der Bezug auf Aktiv- oder Passivkon-ten wird aber noch nicht ausgewertet.                                                                                           Leerzeicheneingabe markiert eine Auswertungsform, bei der neben der Kontierung einzig das Vorzeichen zur Bewertung herangezogen wird. Referenz ist Kassenzugang positiv, alle anderen Vorg€nge  richten sich darnach. Die Angaben gestalten sich auf diese Wei- se besonders f‡r den nicht durch hauptberufliche Buchhaltert€tigkeit vorbelasteten Anwender sehr plausibel nach einer einfachen,konsequenten und leicht zu behaltenden (willk‡rlichen!) Regel:       Ware verkauft => Geld klingelt POSITIV in der Kasse.                                                                       2. BUCHEN - Die Eintragungen - USt-CODE          ( 2/13/14 21                                                                   U/V                                                             Eingabe der Codierung durch einfachen Tastendruck.                                                                              Hier wird ein Leerzeichen bei Betr€gen ohne Umsatzsteuer, oder  eine Dezimalziffer zur Codierung des in der GEGENbuchung enthal-tenen Umsatzsteuer-Prozentsatzes eingegeben.                                                                                    Die zum jeweiligen Code geh„renden Konten und Prozents€tze sind frei definierbar. Dazu dient das Wort >u%.                                                                                      Mehr zur Definition der U-Steuerkonten beim KONTENPLAN; im File "kt_scr" finden sich weitere Beispiele.                                                                                                                                                         2. BUCHEN - Die Eintragungen - KTO/GKT           ( 2/14/14 22                                                                   KONTO/GEGENKONTO                                                Die Kontierung erfolgt durch Eingabe der zwei- bis f‡nfstelligenKontennummer oder (der ersten Zeichen) des Kontennamen.         Steuerkonten werden auch durch ihre Codeziffer identifiziert.                                                                   F‡nfstellige Nummern k„nnen statt mit einer Ziffer auch mit 'L' (f‡r 2) oder 'K' (f‡r 1) beginnen. Diese Konten werden als Per- sonenkonten gesondert gef‡hrt. Bei der Auswertung gelangen derenZahlen dann auch in die Sammelkonten aus 'Credit' resp. 'Debit'.                                                                Ein einzelnes 'K' statt des GEGENkontos gibt Gelegenheit, die   Eingabe dieser Zeile zu wiederholen. Andernfalls geht es nach   Einordnen der gerade abgeschlossenen Buchungszeile mit der      n€chsten Zeile weiter.                                          3. JOURNALLISTE                                  ( 3/1/1   23                                                                   Hier wird, je nach Druckerstatus auch zum Drucker, die Journal- liste ausgegeben, ggf. durch die Monatswahl eingeschr€nkt.      [ESC] bricht die Ausgabe ab, jede andere Taste h€lt sie an.                                                                     Die Liste kann nach allen ihren Bestandteilen sortiert werden.  Groœ- und Kleinschreibung wird nicht unterschieden. Zur leich-  teren Fehlersuche werden Betr€ge vorzeichenlos geordnet.        Gleichlautende Eintragungen erscheinen in Folge ihres Datums.   Die sortierte Anordnung wird zugleich auch in ein File geschrie-ben, wenn sein Name beim Sortieraufruf nicht gel„scht wurde und er nicht mit dem der Journalliste ‡bereinstimmt.                                                                                Die Ordnung der Journalliste selbst nach Datum ist mit der Taste[O] als eigener Menupunkt vorhanden, [L] gibt nur die Liste aus.4. SUMMEN-/SALDENLISTE                           ( 4/1/2   24                                                                   Darstellung bezogen auf den ausgewerteten Zeitraum.                                                                             Alle Konten, auf die gebucht wurde, werden mit Soll- und Haben- Summen sowie dem Saldo ausgegeben, dazu den Klassen-Salden.     Die Personenkonten stehen gesondert zusammengefaœt am Schluœ.                                                                   Nach der Liste folgt eine vorl€ufige Erfolgsermittlung:                                                                                 Wert              aus den Klassen              Codeliste----------------------------------------------------------------        Rohgewinn             3     + 8                c-roh            G&V                   3 + 4 + 8                c-g&v            Vorl. Betriebserg 2 + 3 + 4 + 8        (nicht ermittelt)        Betriebsergebnis  2 + 3 + 4 + 8 + 7            c-erg    4. SUMMEN-/SALDENLISTE                           ( 4/2/2   25                                                                   [ESC] bricht die Ausgabe ab, jede andere Taste h€lt sie an.                                                                     Im Menupunkt EINGABE ist die Zusammensetzung der einzelnen      Summen einstellbar. Dazu wird an die der Klasse entsprechenden  Position der zugeh„rigen Codeliste eine                                 0       zum Auslassen oder                                      1       zum Ber‡cksichtigen                             der betr. Klasse in der jeweiligen Summe gesetzt.                                                                                       7 0 IS c-erg <enter>                                    streicht beispielsweise die Klasse 7 aus dem Betriebsergebnis.                                                                                                                                                                                                  5. UST                                           ( 5/1/1   26                                                                   Ermittelt die Summen der Umsatzsteueranteile getrennt f‡r die   den einzelnen Codeziffern entsprechenden Konten in einer Form,  wie sie zur §bernahme in die USt-Anmeldung geeignet ist:                                                                        Die MWSt-Bemessungsgrundlage wird auf ganze DM-Betr€ge gerundet und erst daraus der wirklich zu zahlende Steuerbetrag ermittelt.                                                                Die Differenz als USt ist auf 0,10 DM zugunsten des Steuerpflichtigen gerundet.                                                                                                                 Da auch regional unterschiedlich K‡rzungen oder Zuschl€ge m„g-  lich sind, muœ die Berechnung hier haltmachen und ggf. gesondertweitergef‡hrt werden.                                                                                                           6. KONTENBL TTER                                 ( 6/1/5   27                                                                   Die Frage "Alle Konten" kann mit einer der Tasten                       J j Y y                                                 beantwortet werden, wenn die Kontenbl€tter des aktuellen Zeit-  raums in Reihenfolge ihrer Nummern ausgegeben werden sollen.                                                                    Konten, auf die nicht gebucht wurde, erscheinen dabei nicht.                                                                    Bei Bet€tigung irgendeiner anderen Taste geht es zur Einzelaus- gabe mit ihren vielf€ltigen M„glichkeiten. Auch diese wird auf  den ggf. in MONAT/JAHR eingestellten Zeitraum begrenzt.                                                                         Der Menupunkt kann dann mit der ESC-Taste verlassen werden, bei ENTER oder einer anderen Taste folgt die Eingabeanforderung.                                                                    6. KONTENBL TTER                                 ( 6/2/5   28                                                                   Eine Hilfszeile gibt die Art der Eingabeanforderung an.         Zuerst wird eine Kontenangabe erwartet:                                 2 bis 5-stellige Zahl   regul€re Kontennummer.                                          F‡r Nr. 1 schreibt man z.B. 01          einzelne Ziffer         wird als USt-Code bewertet und                                  gilt f‡r das zugeh„rige Konto.          Name                    Wenn der Name nicht existiert,          Teil-Name               wird das Konto aus dem ersten                                   Namen ermittelt, der die angege-                                benen Anfangsbuchstaben besitzt.Oder eine Maske:                                                        Zahl mit Jokerzeichen   Das Jokerzeichen kann beliebige         als Maske               Ziffern ersetzen. So entsteht                                   eine Kontengruppen-Aufstellung. 6. KONTENBL TTER                                 ( 6/3/5   29                                                                   Maske in diesem Zusammenhang ist eine Kontennummer (oder Text), wo an nicht zu bewertenden Positionen "#" steht. Dieses Maskie- rungszeichen kann beliebig ver€ndert werden:                                    {| is joker                                     in der EINGABE setzt es auf den senkrechten Strich                                                                              Durch Eingabe je einer Maske f‡r Konto und Gegenkonto sind ausgew€hlte Buchungen gruppen- oder kontenweise darstellbar. Zus€tz- lich kann eine Textmaske angegeben werden, die diese Auswahl weiter einschr€nkt. Jede der Eingaben kann einzeln oder in Kombina-tion mit einer oder den beiden anderen zur Auswahl herangezogen werden. Die Kontenangabe allein erzeugt das ‡bliche Kontenblatt.In den Kontenbl€ttern der Debitoren & Creditoren erscheinen auchdie Salden der Personenkonten; Textmasken wirken auf deren Namen6. KONTENBL TTER                                 ( 6/4/5   30                                                                   Eingegeben wird zun€chst die Konten-Maske. Soll ein ganzes Kon- tenblatt ausgegeben werden, sind die folgenden Eingabe-Anforde- rungen leer (Vorgabetext gel„scht) mit <enter> zu beantworten.  Sonst folgt nun die Bezeichnung oder Maske f‡r das Gegenkonto.                                                                  Bleibt es dabei, ist statt eines Textes danach nur noch <enter> einzugeben. Soll andererseits die Liste allein nach einem Text- kriterium zusammengestellt werden, l„scht man die beiden Konten-nummern und gibt stattdessen dort jeweils nur <enter> ein.                                                                      Wenn die Kontenausgabe durch eine zus€tzlich im Text der Buchungauftretende Zeichenfolge eingeschr€nkt werden soll, wird jetzt  dieser Text eingegeben. Hier gilt dieselbe Such-Maskierung, wie bei den Nummern.                                                6. KONTENBL TTER                                 ( 6/5/5   31                                                                   Wurde das Konto angegeben, <enter> statt des Gegenkontos und einText, entsteht der Kontenauszug mit allen Buchungen des Kontos, die den Text enthalten.                                                                                                         Die Personenkonten werden gesondert gef‡hrt. Ihre Kontenbl€tter sind einzeln abrufbar, auœerdem werden sie mit den jeweiligen   Summen bei Abruf der zugeh„rigen Sammelkonten dort eingereiht.                                                                  Zum besseren §berblick ‡ber Auœenst€nde und Verbindlichkeiten   erscheinen sie bei der Summen- und Saldenliste zum Schluœ noch  einmal gesondert kontenweise sowie f‡r Creditoren und Debitoren zusammengefaœt.                                                                                                                 [ESC] bricht die Ausgabe ab, jede andere Taste h€lt sie an.     7. AUSWERTUNG                                    ( 7/1/7   32                                                                   Nach Auswertung der Buchungen des eingestellten Zeitraums folgt in einem Durchgang die gesammelte Ausgabe der                                                                                           Kontenbl€tter           ( alle benutzten Konten                 Saldenliste             ( Summen & Salden dto.                  USt-Summen              ( mit genauen Zahlen                    USt-Abrechnung          ( gerundet f‡r die USt-Anmeldung        Privatkonten            ( bis zu 100 Konten der Gruppe                                                                  Eingerichtet zur Druckerausgabe en bloc, da diese wegen der Da- tenmenge einige Zeit in Anspruch nimmt. Steuernde Eingaben sind nicht erforderlich, und so kann die Zeit, wo der Computer oder  Drucker blockiert ist, anderweitig besser genutzt werden.       [ESC] bricht die Ausgabe ab, jede andere Taste h€lt sie an.     8. KONTENPLAN                                    ( 8/1/9   33                                                                   Ausgabe der Kontenbezeichnungen mit Nummern und Namen, sowie    Steuersatz bei USt-Konten, in Reihenfolge der Nummern.          [ESC] bricht die Ausgabe ab, jede andere Taste h€lt sie an.                                                                     Eine nach den ersten vier Zeichen der Namen alphabetisch geord- nete Liste ist im Menupunkt EINGABE abrufbar:                           KONTENLISTE    <enter>                                  Oder auch in Reihenfolge ihrer Installation:                            KONTEN VLIST   <enter>                                                                                                  Kontennamen d‡rfen aus s€mtlichen Schriftzeichen ab Code 33 "!" bis Code 160 " " bestehen. Man kann sie ansehen, wenn man z.B.  bei der EINGABE hinschreibt:                                       | 161 33 DO I 3 .R SPACE I EMIT SPACE LOOP | CR   <enter>    8. KONTENPLAN - Konten einrichten                ( 8/2/9   34                                                                   Die Konten werden in einem Screenfile durch Hinschreiben ihrer  Nummer vor der Anweisung KONTO gefolgt von einem Namen definiertund beim Programmstart durch einen automatischen Lade-Aufruf demProgramm mitgeteilt. Damit sind sie eingerichtet. In der Anzahl sind sie nur durch den freien Programmspeicher begrenzt. Jedes  Konto nimmt neben der Namensl€nge dort 36 Bytes in Anspruch.                                                                    Die wichtigsten System-Aufrufe sind:                                                                                             AKTIVKONTEN    bewirkt, daœ die nun folgenden Konten als                       Aktivkonten eingerichtet werden,                 PASSIVKONTEN   l€œt Passivkonten entstehen. Beides arbeitet                    nur im Zusammenhang mit "S" oder "H" bei der                    S/H-Markierung in den Journalzeilen.            8. KONTENPLAN - Konten einrichten                ( 8/3/9   35                                                                    >CASHFLOW      nach allen Kontendefinitionen macht die                         Aktiv-/Passiv-Angabe unwirksam.                  >U%            aktiviert ein Konto als USt-Kto mit Steuersatz,                 erwartet den Pointer zur Datenbasis des Kontos                  und den Steuersatz (s. "kt_scr"). Der Kontenname                muœ zur Steuer(de)codierung geeignet sein.       KTO>NAME       Hilfswort zur Erkennung bei Kurzschreib-                        weise. Es folgen die Anfangszeichen                             eines Kontennamen. Der Pointer auf die                          Datenbasis wird, ebenso wie sonst bei                           Nennung des ganzen Namen, zur‡ckgegeben.         U>KONTO        setzt die Codeziffer eines USt-Kontos                           voraus und liefert dessen Datenpointer.          -KONTO         wie oben, mit Kontennummer.                     8. KONTENPLAN - fehlende Konten nachtragen       ( 8/4/9   36                                                                   Trifft das Programm bei der Auswertung auf eine Nummer, zu der  kein Konto existiert, gibt es eine Fehlermeldung mit der betr.  Journalzeile aus, richtet automatisch ein provisorisches Konto  ein und f€hrt dann ohne Unterbrechung fort.                                                                                     So ein Name setzt sich aus der sechsstelligen Nummer mit einem  vorangestellten "|" Strich zusammen. Auf diese Weise gelangt er in der namentlichen Sortierfolge immer an den Schluœ der Liste, die als KONTENLISTE ausgegeben wird, ist also leicht zu finden.                                                                 Diese provisorischen Konten werden ohne Unterschied in derselbenWeise behandelt, wie die ordnungsgem€œ eingerichteten. Die Aussagekraft der Auswertung bleibt also erhalten. Bei Fehlbuchungen  wird dann einfach umgebucht, regul€re Definitionen holt man nach8. KONTENPLAN - Konten einrichten                ( 8/5/9   37                                                                   Die Konten sind frei definierbar, es gibt keine starr vorgegebe-nen Nummern oder Namen. Es ist jedoch f‡r die Konten, bei denen das Programm automatische Buchungen durchf‡hrt, das Einhalten   gewisser Konventionen erforderlich. Und die Klasseneinteilung   muœ entsprechend dem Verwendungszweck erhalten bleiben.                                                                         "kt_scr" enth€lt ‡ber 100 Beispiele zu den Kontendefinitionen,  dazu in Seite 1 und 2 auch zu den vorbereitenden Angaben.                                                                               0000 KONTO Copyright.hpr'93                             ist aus offensichtlichem Grunde vorhanden, gleichzeitig dient   das Konto der Erkennung, ob bereits ein Kontenplan geladen wurde        | #0 -KONTO -DUP IF .KONTO ENDIF |      <enter>         zur Kontrolle zeigt dieses Konto an - wenn es denn existiert.   8. KONTENPLAN - Kontenvorgabe                    ( 8/6/9   38                                                                   F‡r die Ausgabe der Gruppe der Privatkonten ist Festlegung der  ersten Privatkontonummer erforderlich, auf die folgend weitere  99 Nummern zu dieser Gruppe gez€hlt werden:                             0 CONSTANT k-prv        1900 IS k-prv                   Das kann im File selbst ge€ndert werden, oder mit                       ( nummer ) IS k-prv                                                                                                     Die Ber‡cksichtigung von Creditoren und Debitoren bei den jewei-ligen Sammelkonten erfordert ebenfalls eine Verankerung. Um auchhier freie Wahl von Namen und Nummern zu erm„glichen, wurden diese beiden - mit IS auch €nderbaren - Constanten eingerichtet:           0 CONSTANT Debit        1400 IS debit                           0 CONSTANT Credit       1600 IS credit                                                                                  8. KONTENPLAN - Kontenvorgabe                    ( 8/7/9   39                                                                   In die Journalliste werden alle Betr€ge einschlieœlich ggf ihresUmsatzsteueranteils eingetragen. Bei der Buchung wird mit Hilfe einer Codeziffer daraus der Steueranteil extrahiert und auf das entsprechende Steuerkonto gebucht. Da die Numerierung der zuge- h„rigen Konten unterschiedlicher Standardisierung unterliegt,   wurde hier eine - h„chst flexible - Namenskonvention gew€hlt.                                                                   Dem folgend m‡ssen die Namen der USt-Konten mit vier zuvor ver- einbarten, teils aber wiederum einstellbaren, Zeichen beginnen.                                                                 Vorgegeben ist die Codierung f‡r                                    Umsatzsteuer         MW.5   MW.6   MW.7   MW.8   MW.9           und Vorsteuer        VS.0   VS.1   VS.2   VS.3   VS.4       wobei die Ziffer der Codierung in der Journalliste entspricht.  8. KONTENPLAN - USt-Konten einrichten            ( 8/8/9   40                                                                   Die ersten beiden Zeichen stehen in {vst-m} und {mws-m}, sie    k„nnen daher auch ge€ndert werden. In "kt_scr" werden sie z.B.  derart besetzt:                                                         BH " VSMW" 2+ COUNT-W IS vst-m @ IS mws-m               Der diesen Zeichen folgende Punkt mit Codeziffer liegt fest.                                                                    Den damit vorgeschriebenen vier Zeichen k„nnen bis zu 26 weiterefolgen. Der vereinfachten Eingabe und Suche dient neben der all-gemein wirksamen Kurzbezeichnung durch die Anfangszeichen eines Kontennamen bei den Steuerkonten auch die Identifikation durch  die Codeziffer allein. Die EINGABE                                      7  U>KONTO .KONTO     <enter>                           gibt bei den Beispielen aus "kt_scr" das Konto 1747 mit Namen   MW.7'voll , dem USt-Satz 15% samt seinen Summen und Salden aus. 8. KONTENPLAN - USt-Konten einrichten            ( 8/9/9   41                                                                   Die Steuers€tze werden z.B. eingetragen:                                1457 KONTO MW.7_MWSt,voll      KTO>NAME mw.7  14,0 >U%                                                                  was dem Mehrwertsteuerkonto 1457 den Steuersatz 14% zuteilt. Beider Auswertung wird dann aus allen Betr€gen mit dem Steuercode  7 der betr. Anteil der Gegenbuchung auf dieses Konto gebracht.                                                                  Der Prozentsatz kann bis zu zwei Nachkommastellen enthalten.                                                                    Ein Konto nur f‡r U-Steuer wird durch einen (pseudo-)Steuersatz von -100% markiert:                                                     1455 MW.5,nur_Umsatzsteuer     5 U>KONTO       -100 >U%                                                                                                                                 9. RECHNEN                                       ( 9/1/2   42                                                                   Eine Variante der direkten Eingabe im Menupunkt EINGABE, bei    der das Vocabular f‡r Flieœkomma-Operationen vorgegeben ist.    Wie die Bezeichnung andeutet, ist diese Position in derselben   Weise zum Rechnen eingerichtet, wie die Betragseingabe beim     BUCHEN. In der EINGABE ist das auch m„glich, nur muœ dort ggf.  das Vocabular FP aufgerufen werden, wenn wie hier gerechnet     werden soll.                                                                                                                    Wieder der Hinweis, daœ in diesem Programm Rechenanweisungen    immer in UPN hinzuschreiben sind, also erst die Zahlen, dann dieOperation. Nochmal ein Beispiel:                                        100 200 300 400         ein paar Zahlen hinschreiben            -  rot rot +            erzeugt: 300-400 und 100+200            /                       erzeugt: (300-400)/(100+200)    9. RECHNEN                                       ( 9/2/2   43                                                                   Die besonderen FP-Worte zeigt {vlist} an:                           -1 0 1 2 3 1/4 1/2 PI   gibt es als Constanten                  + - * / SQRT            Grundrechenarten, Quadratwurzel         ^ EXP LN LOG10          Potenzen und Logarithmen                */                      Kombination * und /                     2* 2/                   schnelle Multiplikation/Division        ACOS ATAN ACOT ASIN COT TAN SIN COS     Winkelfunktionen        NEG ABS                 Negation, Betrag                        NINT INT NLINT FLOAT    Formatumwandlung integer <=> fp         R> >R ROLL ROT PICK     Stack- und Datentausch-Operationen      OVER 2SWAP SWAP DUP DROP                                        ! @ +-                  Ablegen/Lesen, Vorzeichen‡bernahme  Alle nicht gleichlautenden Worte des Forth-Vocabulars sind eben-falls aufrufbar. 'Normalen' Ganzzahlen stellt man ein '#' voran.10. MONAT/JAHR                                   ( 10/1/1  44                                                                   Eingabe des Auswertungszeitraums als Zahl f‡r den gew‡nschten   Monat. Auf Jahr wird durch Eingabe eines "J" oder "Y" geschaltet                                                                Bei negativer Monatsangabe wird von diesem Monat an bis zum Endeausgewertet. Eingegrenzt werden kann der Zeitraum durch                 Wert f‡r den Monat = Anfangsmonat + Endmonat * 256      Dieser Menupunkt hat keine rechnende Eingabe, darum muœ der Wertseparat ermittelt und direkt angegeben werden. F‡r die Quartale:        I: 769   II: 1540   III: 2311   IV: 3082                                                                                Vor der R‡ckkehr zum Menu wird das Journal neu ausgewertet. F‡r die anderen Menupunkte liegen damit sofort die aktuell g‡ltigen Daten vor.                                                                                                                      11. EDITOR                                       ( 11/1/2  45                                                                   Hierzu sei auf das gesonderte Glossar "ed_gls_g"  verwiesen, unddie Hifsseite, die mit F1 sichtbar gemacht werden kann.                                                                         Abweichend vom Standard-Editor schaltet sich automatisch ein be-sonderer Tabulator ein, der jeweils die n€chste Anfangsposition in der Buchungszeile anf€hrt. Mit ALT/TAB wird der Normalabstandwiederhergestellt - und umgekehrt.                                                                                              CTR/¾ fordert eine Zeilennummer an, die dann aufgesucht wird,   nicht wie sonst im Editor die Nummer einer Seite.               Am rechten Rand erscheinen die lfd. Nummern der Journalzeilen.                                                                  Auœerdem wird bei <tab>, <enter> und <¾> die Anzeige der Zeilen-nummer aktualisiert & in der Fuœzeile als Blocknummer angezeigt.11. EDITOR                                       ( 11/2/2  46                                                                   Wird der Editor w€hrend des Buchens oder unmittelbar danach auf-gerufen, steht der Cursor auf der j‡ngsten Journalzeile.                                                                        Ein paar der Tasten-Aufrufe sind:                                                                                               F1              zeigt/entfernt den Hilfstext.                   F2              nimmt die Cursorzeile heraus und speichert sie; SH/F2           copiert sie in den Speicher, l„scht sie nicht.  F3              f‡gt die gespeicherte Zeile beim Cursor ein;    SH/F3           copiert sie ‡berschreibend in die Cursorzeile.  CTR/SHIFT-LOCK  ruft die Eingabe eines zu suchenden Textes auf. ALT/SHIFT-LOCK  wiederholt die Suche mit dem vorigen Text.      CTR/Q           schaltet zwischen Einf‡gen und §berschreiben um.                                                                12. SICHERUNGSCOPIE                              ( 12/1/1  47                                                                   Fertigt auœer der Reihe eine Copie der Journalliste mit dem beimProgrammstart angegebenen Namen an.                             Unvollst€ndig gesicherte Dateien werden sofort wieder gel„scht.                                                                 Ein neuer Name kann in der EINGABE bestimmt werden, z.B.:               jbk FNAME" n1_flp2_ein_neuer_ql_name"                   Beliebige Copien sind dort m„glich mit:                                 BACKUP {quellen-filename} {ziel-filename}                                                                               Hinweis:                                                        Bei FNAME" ist f‡r den Namen das Anf‡hrungszeichen nicht zu-    l€ssig, dagegen kann er, abweichend von der sonstigen Regel,    auch Leerzeichen enthalten. Nach dem ersten Anf‡hrungszeichen   muœ ein Leerzeichen folgen. Dies geh„rt nicht zum Namen!        13. NEUE SEITE                                   ( 13/1/1  48                                                                   Bei freigegebenem Drucker wird eine neue Seite eingezogen, rsp. die n€chste Seite angefahren. Das Programm sendet dazu den Steu-code 12 an den Ausgabekanal. Eine andere Aktion wird zugewiesen:        ' neues.wort IS (ppge)                                                                                                  In der EINGABE ist auch das Hochfahren zur‡ck zum alten         Seitenanfang m„glich. Dies erledigt das Wort                            P-TOP                                                   welches die Steuercodes 27 und 12 zum Drucker sendet.                                                                           Seine eigentliche Drucker-Aktion ruft P-TOP mit dem Wort (ptop) auf, dem als 'deferred' Wort mit IS jedes beliebige andere 4th- Wort zugewiesen werden kann:                                            ' neues.wort IS (ptop)                                  14. NEUE ZEILE                                   ( 14/1/1  49                                                                   Bei freigegebenem Drucker wird eine neue Zeile angefahren.                                                                      Das Programm sendet dazu die Steuercodes 10 und 13 an den Ausga-bekanal.                                                                                                                        Ein Wort zum zeilenweisen Zur‡ckfahren k„nnte in EINGABE        z.B. so definiert werden:                                               !csp 27 10 CS-CSEQ cr-up                                Das Definitionswort CS-CSEQ sorgt zugleich daf‡r, daœ die Ausga-be nur zum Drucker geht, und nur, wenn dieser freigegeben ist.                                                                  Daraus f‡r mehrere Zeilen zum Aufruf nach Angabe einer Zahl:            : m-cr-up                               ( anzahl -- )             1- DUP 0< 0= IF DUP 0 DO cr-up LOOP ENDIF DROP ;      15. TEXT SCHREIBEN                               ( 15/1/1  50                                                                   Auch dies hat nur Sinn, wenn die Druckerausgabe aktiviert ist.                                                                  Hiermit k„nnen Notizen u.a. Hinweise in den ausgegebenen Text   eingef‡gt werden.                                                                                                               Ein "$" markiert die Eingabeanforderung. Verlassen wird dieser  Menupunkt durch <enter> ohne sonstige Eingabe.                                                                                  Der Text wird ohne Abstand oder Zeilenvorschub hingeschrieben.  Zur Formatierung k„nnen Leerzeichen dienen und die Menu-PositionNEUE ZEILE.                                                                                                                                                                                                                                                     16. EINGABE - allgemein                          ( 16/1/10 51                                                                   Aus diesem Menupunkt ist das ganze System programmierbar. Neben s€mtlichen Forth-Worten sind mit geringen Einschr€nkungen auch  alle Aufrufe verf‡gbar, aus denen das Programm selbst besteht.                                                                  Operationen an Flieœkommazahlen sind m„glich nach Aufruf von            ALSO FP                                                 wodurch das betreffende Vocabular an vordere Stelle bei der     Suche nach eingegebenen Namen durch das System r‡ckt. Die dort  definierten Namen '‡berdecken' auch gleichlautende Aufrufe ande-rer Vocabulare, die in der Suchfolge danach kommen, haben also  unbedingt Vorrang. F‡r die FP-Worte s. Pos. 9, 'RECHNEN'.                                                                       Nat‡rlich betrifft dies auch alle anderen Vocabulare.                                                                           16. EINGABE - allgemein                          ( 16/2/10 52                                                                           PREVIOUS                                                stellt nach einem beliebigen Vocabular-Aufruf die vorher g‡ltigeVocabularfolge wieder her.                                                                                                      Es wird einzusehen sein, daœ hier nicht auch noch eine umfassen-de Beschreibung des diesem Programm zugrundeliegenden F6 Forth- Systems gegeben wird. Dazu sei auf die zugeh„rige Dokumentation verwiesen. Nochmals aber der deutliche Hinweis, daœ von hier auswirklich JEDE im Forth g‡ltige Eingabe m„glich ist.                                                                             Auf einige Besonderheiten soll aber n€her eingegangen werden.   SICHERN DES AKTUELLEN PROGRAMM- UND AUSWERTUNGSZUSTANDES,  nderngewisser Parameter, die Druckersteuerung u.a., geh„ren dazu.                                                                    16. EINGABE - Programmierung                     ( 16/3/10 53                                                                   Programmschleifen oder Entscheidungsstrukturen sind aufrufbar,  aber auch v„llig neue Definitionen oder Definitionsworte. Dabei sind Eingabezeilen, die Entscheidungs- und Schleifenstrukturen  zur unmittelbaren Ausf‡hrung enthalten, in "|" einzufassen, da- mit sie - als nur zu diesem Zweck befristet compilierter Block -geschlossen ausgef‡hrt werden k„nnen.                                                                                                   | #10 #0 DO CR I U>KONTO .KONTO LOOP |                  schreibt z.B. eine Liste aus Nummern, Namen, Summen und Salden  aller USt-Konten.                                                                                                               Soll dies k‡nftig als Wort aufrufbar sein, schreibt man:                : U-Konten #10 #0 DO CR I U>KONTO .KONTO LOOP ;         und fortan gibt der Aufruf {U-Konten} die genannte Liste aus.   16. EINGABE - Programmierung                     ( 16/4/10 54                                                                   Der eben definierte Aufruf wird in das Vocabular BH aufgenommen.Die besonderen Worte des Buchhaltungsprogramms lassen sich anzeigen durch                                                               ALSO BH VLIST PREVIOUS                                                                                                          SAFE!                                                   reiht dem System alle bis zum Zeitpunkt der Eingabe definierten Worte fest ein. Sie k„nnen danach weder bei                             EMPTY                                                   zum L„schen der ungesicherten Worte, noch durch versehentliches         FORGET name                                             verlorengehen. So sch‡tzt man z.b. auch neue Konten oder die mit        ( fp.zahl ) BLEIBT name                                 im FP-Vocabular fixierten Dauereingaben f‡r Buchungsbetr€ge.    16. EINGABE - Datensicherung                     ( 16/5/10 55                                                                   W-SAVE filename                                                         ist der Aufruf zum Sichern des aktuellen Systemzustandes        Angefangen vom Editiermodus (‡berschreiben / einf‡gen),         s€mtlichen Filenamen, ‡ber Kontendefinitionen mit Summen        und Salden, den Dauereingaben f‡r Buchungsbetr€ge bis           hin zum Druckerstatus und der Fensterposition im Bild-          schirm wird alles f‡r den sp€teren Aufruf als Job unter         dem angegebenen Filenamen gesichert. Dies ersetzt weit          bequemer und entschieden umfassender die f‡r gew„hnlich         angebotenen Konfigurationsprogramme. ( => CLONE-FORTH )         Vor dem Aufruf muœ das Menu mit {quit} verlassen werden.                                                                ( nr ) S-LOAD {screenfile}    und     L-LOAD {wort} {screenfile}        zum Laden von Programm-Erg€nzungen.                     16. EINGABE - Datensicherung                     ( 16/5/10 56                                                                   CLONE-FORTH                                                             erzeugt eine genaue Copie des gerade aktiven Jobs.              VORSICHT: Sobald weniger als ca. 5K im 4th-Speicher frei        sind, k„nnen CLONE-FORTH und W-SAVE Fehler erzeugen.            Vor dem Aufruf muœ das Menu mit {quit} verlassen werden.                                                                A-CLOSE schlieœt alle Kan€le des Jobs auœer denen der Ein- und          Ausgabe-Fenster. Unmittelbar nach diesem Aufruf k„nnen          somit auch z.B. die Arbeitdisketten gewechselt werden.                                                                          Danach wird bei irgendeinem der Menupunkte, die auf eine        Datei zugreifen, automatisch die Startsequenz mit Einga-        be der Filenamen durchlaufen. Das Programm startet dann         mit den evtl. ge€ndert angegebenen Datens€tzen erneut.  16. EINGABE - Servicefunktionen                  ( 16/6/10 57                                                                   Auch weitere Service-Aufrufe, wie etwa                                  VIEW    flp1_f6_gls                                             DIR     n2_flp1_bh_                                             FORMAT  flp3_reserve.01*e                                       BACKUP  flp1_f6bhm flp3_buchhaltung_exe                 und was man sich da noch so vorstellen mag, sind nicht einzeln  als Menupunkte vorgesehen, da das Wesentliche hier bereits mit  dem System zur Verf‡gung steht.                                                                                                 Andere k„nnen zus€tzlich und nach eigenen Vorstellungen leicht  programmiert werden. Dazu wird jedoch dringend geraten, sich    mit den Grundlagen von Forth-Systemen des f.i.g.-Standards ver- traut zu machen, und das Glossar zum F6 nebst der Dokumentation gr‡ndlich durchzuarbeiten.                                      16. EINGABE                                      ( 16/7/10 58                                                                   Die Druckerausgabe kann durch folgende Worte beeinfluœt werden:                                                                 CONSOLE         Drucker abschalten, nur noch Display.           PRINTER         Display und simultan drucken.                                   PRINTER ist zugleich auch Name eines Vocabulars,                das gesondert nicht zug€nglich ist.                                                                             P-START         Dieses Wort wird durch PRINTER aufgerufen und                   ist zur Initiierung des Druckerzustands gedacht.                Es kann nach Bedarf umdefiniert werden:                                 ' neue-aktion IS p-start                                Vorgegeben ist die Einstellung f‡r einen Star-                  LC10 in Micro-Schrift mit 144 Zeilen/Seite.                                                                     16. EINGABE - Drucker                            ( 16/8/10 59                                                                   CS-CSEQ         Definition einer Folge von Steuerzeichen, die                   an den Drucker gesendet werden, falls die Ausga-                be dorthin freigegeben ist. Man definiert z.B.:                                                                         !csp decimal forth         \ Anfang der Zeichensequenz               27 {@     27 {C 0 12  \ reset, 12"-seiten                       27 {t 1   27 {6       \ ibm zeichensatz                         27 {! 5   27 {O       \ elite schmal, ganzes blatt          CS-CSEQ  PS               \ Definitionswort und Name                                                                   Systembedingt muœ die gesamte Eingabe in einer Zeile erfolgen.  PS ist nun einzeln aufrufbar, es kann aber auch die alte Aktion von P-START ersetzen:                                                   ' ps IS p-start                                         16. EINGABE - Druckersteuerung/-Anpassung        ( 16/9/10 60                                                                   p-top           alten Seitenanfang aufsuchen                    prt-abt         gepufferte Druckerausgabe l„schen (TK2-aufruf)  p-on            Druckerfreigabe                                 p-off           Druckersperrung                                 p-dis           nach Freigabe nur Display                       p-prt                         nur Drucker                       p-sim                         Display & Drucker                 pon             IS Ausgabeart  -1:Drucker 0:Display 1:beides                                                                    ( n1 ) set-baud erwartet (n1) als neue Baudrate und gibt die bis                dahin g‡ltige zur‡ck, z.B: #19200 set-baud #.   p-tra           aktiviert eingebaute TRA-Tabelle; sie wird durchtra-0           mit den aktuellen Systemtabellen initialisiert. ( c1 n1 ) tra>q erwartet neuen Code (c1) f‡r Zeichen Nr. (n1).  17. FENSTER                                      ( 17/1/2  61                                                                   Mit dieser gelegentlich recht n‡tzlichen Einrichtung k„nnen Lageund Gr„œe des Bildschirmfensters ver€ndert werden.                                                                               Cursor         verschiebt das Fenster (auch diagonal).          SH/Cursor      ver€ndert dessen Gr„œe am rechten oder/und                      unteren Rand.                                    ALT/.. CTR/..  f‡r gr„œere Stufung bei der Maœ€nderung.         SPACE          schnurrt das Fenster auf Cursorgr„œe zusammen.                                                                   ENTER          beendet den Aufruf mit §bernahme der neuen Maœe                 als 'Outline' und begrenzt damit alle Fenster                   des Jobs auf dieses Format.                      ESC            richtet nur das betroffene Fenster neu ein,                     ver€ndert die 'Outline' nicht.                  17. FENSTER                                      ( 17/2/2  62                                                                   Die Outline-Ver€nderung ist im Programm solange belanglos, wie  nicht durch gesonderte Eingabe weitere Fenster ge„ffnet wurden. Der Menu-Aufruf bezieht sich immer auf das Hauptfenster, inner- halb dessen 'Outline' alle anderen Fenster liegen m‡ssen. Auch  die Maœe dieses Fensters k„nnen kleiner sein, als seine Outline.                                                                Der Menu-Streifen paœt sich selbst€tig an die Fensterbreite an. Bei QXL und Atari-QL wird zugleich auch die Schriftgr„œe ab der Fensterbreite von 621 Pixeln auf CSIZE 1,0 justiert.                                                                            Minimale Fenstergr„œe ist Cursorformat. Dabei sollte dann aber  auf keinen Fall nach <enter> eine andere Taste benutzt werden,  da der Menustreifen nun nicht mehr sichtbar ist. Nach erneutem  <enter> kann dann sp€ter das Fenster wieder verg„œert werden.   18. SCHLUSZ                                      ( 18/1/1  63                                                                   Eventuell noch nicht gesicherte Editor-Eingaben werden zum File geschrieben, die Speicherbereiche aufgel„st und dann verabschie-det sich das Programm.                                                                                                          Das Programm kann durch L„schen des Namen f‡r die Journaldatei  auch beim (wiederholten) Start aufgegeben werden.                                                                               ACHTUNG:                                                        Falls der Menupunkt FENSTER mit "fatal error, don't retry ..."  abgebrochen wird, sollte das Programm umgehend aufgegeben werdenDieser Abbruch wird mitunter durch Fehladressierung im Pointer- I.F. verursacht. Da der betroffene Adressenbereich in der N€he  der Systemvariablen liegt, sind bei einem erneuten Versuch die  schlimmsten Folgen denkbar und in keiner Weise vorherzusagen!   19. DRUCKER                                      ( 19/1/1  64                                                                   Mit diesem Posten wird umgeschaltet zwischen der reinen Bildaus-gabe und der gleichzeitigen Ausgabe auf den Drucker oder ein entsprechendes anderes Ger€t/File, wie beim Programmstart angegeben                                                                Die Menu-Anzeige gibt nach dem Pfeil "½" die Aktion an, die der Aufruf dieser Position veranlaœt:                                       Drucker½ein                                             Der Drucker kann eingeschaltet werden und ggf. erscheint dann           Drucker½aus                                             wonach bei erneuter Auswahl der Drucker wieder abgeschaltet wird                                                                Die Initiierung geschieht einmalig beim Programmstart und kann  mit P-START oder PRINTER in der EINGABE neu veranlaœt werden.   Menu- und Hinweistexte gelangen nicht zum Drucker.              20. DEMO-VERSION F6BHm                           ( 20/1/1  65                                                                   Gegen‡ber der Gebrauchsversion ist diese einzig durch die Be-   grenzung der Journalliste auf 100 Zeilen eingeschr€nkt.         Damit sollte es m„glich sein, s€mtliche Einrichtungen ausf‡hr-  lich durchzuprobieren. Bei Interesse an der Gebrauchsversion,   oder falls es Fragen hierzu gibt, bitte Nachricht an:                                                                                   Hans-Peter Recktenwald                                          Albestr. 21, 12159 Berlin                                       Tel: ++30  852 0413                                     Die Gebrauchsversion wird f‡r DM 1200,- gegen Vorkasse geliefertDer Preis schlieœt, soweit vom Programm her m„glich, Anpassung  an besondere Erfordernisse und j€hrlich an ver€nderte Gegeben-  heiten ein, sowie die volle Unterst‡tzung auch bez‡gl. des zu-  grundeliegenden F6-Forth-Systems - Dokumentation dazu auf Wunsch --> ******************** BH * GLOSSAR ******************** -->                           (vorl€ufig)                                                                                                            journal buchf‡hrung kontierung                                  umsatzsteuer  betriebsergebnis                                                                                   zu F6 im sinclair QL (und derivaten) mit TK2 und pointer-i.f.   Erprobt mit GC und JM, JS, MGG, MINERVA(1.93) und im Atari-QL                                                                                                                                                        1993 Jul 12 23:39                                               1994 Dec 19 09:45                                                                                                      €nderungen & erg€nzungen s.S. 67 ff                  copyright 1993 bei h.-peter recktenwald, berlin-friedenau       albestr. 21, 12159 bln            tel: 0{1049}30 852 0413     --> ******************* BH * HINWEISE ************** 1/4  67                                                                    nderungen & Neuerungen gegen‡ber Demo-Version:                                                                                       F6-Basis       Versionen 7.20+                                  JOURNALLISTE   Menupunkt um Sortierm„glichkeit erg€nzt          Listenausgabe  Immer bricht [ESC] die Ausgabe ab,                              jede andere Taste h€lt sie an.                   TRA-Tabelle    frei konfigurierbare Zeichenumsetzung                           nach QDOS-Standard f‡r die Druckerausgabe.                      Zur Umsetzung in mehrere Zeichen ist am                         Ende der 256 Bytes f‡r die Einzelzeichen                        Platz f‡r alle 256 Tabellenposten.                                 tra-m 2dup 2 m+ @l 256 + m+                                  liefert den Anfang dieser Sondertabelle.                                                              -->   --> ******************* BH * HINWEISE ************** 2/4  68                                                                   Hotkey-System & Processoren mit Cache (z.B. Atari-QL & QXL)            Dieses Programm ist ein sich schrittweise erweiterndes          System. Konten und Betragsconstante in der Eingabe entste       hen z.B auf diese Weise, und die automatische Einrichtung       von Ersatzdefinitionen f‡r unbekannte Konten wird erst          dadurch m„glich. Daten und Programmteile befinden sich in       Reihenfolge ihrer Installation im selben Speicherbereich.                                                                       Aufgrund besonderer Vorkehrungen im F6-System kann die          CACHE-Speicherung dennoch AKTIV bleiben; weil aber f‡r          Daten und Programm eigene Speicherbl„cke nicht existieren       die zur Nutzung durch mehrere Jobs brauchbar w€ren, sind        z.B. diese Hotkey-Aufrufe zu meiden:                                             HOT_RES und HOT_CHP                -->   --> ******************* BH * HINWEISE ************** 3/4  69                                                                   JOURNALLISTE - hier ist j‡ngst ein Fehler aufgetaucht:                  Gelegentlich kann es vorkommen, daœ an den Schluœ einer         neu angelegten Datei einzelne Zeilen der Liste gelangen,        die dort nicht hingeh„ren und Fehler verursachen, sobald        sie von den regul€ren Eintragungen erreicht werden.             Hiergegen hilft, ggf. nach L„schen solcher Zeilen, Ver-         l€ngern der Datei um einige leere Seiten Seiten z.B. aus        dem Editor mittels                                                      ALT/F5 {letzte_seitennummer}  <enter>                   und L„schen der Seitennumerierung der letzten mit diesem        Aufruf angef‡gten Seite.                                        Seit F6-Version 7.20 trat der Fehler nicht mehr auf.                                                                                                                               -->   --> ******************* BH * HINWEISE ************** 4/4  70                                                                   HISTORY Wenn die Basic-Erweiterung zum Einsatz einer "Command-          Line-History" (von Octagon) vorhanden ist, wird der             Eingabe automatisch eine 40 Posten umfassende History           zugewiesen. Dies erlaubt den einfachen und zuverl€ssigen        R‡ckgriff auf vorangegangene Eingaben bei der Textanfor-        derung. Mehr s. Dokumentation zur History.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       » eof »